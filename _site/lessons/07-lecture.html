<!DOCTYPE html>
<html>

    <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Clase 7</title>
    <meta name="description" content="Programación y análisis de datos en R con aplicaciones científicas
">

    <link rel="stylesheet" href="/css/main.css">
    <link rel="canonical" href="http://localhost:4000/lessons/07-lecture.html">
    <!-- <link rel="alternate" type="application/rss+xml" title="Programación en R - 2017" href="http://localhost:4000/feed.xml" /> -->
    <script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script>
</head>


    <body>

        <header id="header" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <a href="/index.html" class="navbar-brand">Programación en R - 2017</a>
      <div class="navbar-header">
        <button class="navbar-toggle" type="button" data-toggle="collapse" data-target="#navbar-main">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
      </div>

      <div class="collapse navbar-collapse">
        <ul class="nav navbar-nav">
	  
	  
	  
	  
	  <li><a href="http://localhost:4000/lessons/" >Clases</a></li>
	  
	  
	  
	  
	  
	  <li><a href="http://localhost:4000/resources.html" >Biblio</a></li>
	  
	  
	  
	  
	  
	  <li><a href="http://localhost:4000/datasets.html" >Data</a></li>
	  
	  
	  
	  
	  
	  

	      <!--  -->
              <!--  -->
              <!--  -->
              <!-- <li><a href="/lessons/01-lecture.html">Clase 1 - Intro</a></li> -->
              <!--  -->
              <!--  -->
              <!--  -->
              <!-- <li><a href="/lessons/01-midterm-exam.html">Parcial 1</a></li> -->
              <!--  -->
              <!--  -->
              <!--  -->
              <!-- <li><a href="/lessons/02-lecture.html">Clase 2</a></li> -->
              <!--  -->
              <!--  -->
              <!--  -->
              <!-- <li><a href="/lessons/03-lecture.html">Clase 2</a></li> -->
              <!--  -->
              <!--  -->
              <!--  -->
              <!-- <li><a href="/lessons/04-lecture.html">Clase 4</a></li> -->
              <!--  -->
              <!--  -->
              <!--  -->
              <!-- <li><a href="/lessons/05-lecture.html">Clase 5</a></li> -->
              <!--  -->
              <!--  -->
              <!--  -->
              <!-- <li><a href="/lessons/06-lecture.html">Clase 6</a></li> -->
              <!--  -->
              <!--  -->
              <!--  -->
              <!-- <li><a href="/lessons/07-lecture.html">Clase 7</a></li> -->
              <!--  -->
              <!--  -->
              <!--  -->
              <!-- <li><a href="/">index</a></li> -->
              <!--  -->
              <!--  -->
              <!--  -->
              <!--  -->
              <!--  -->
              <!-- <li><a href="/lessons/08-lecture.html">Clase 8</a></li> -->
              <!--  -->
              <!--  -->
              <!--  -->
              <!-- <li><a href="/lessons/">Clases</a></li> -->
              <!--  -->
              <!--  -->
              <!--  -->
              <!-- <li><a href="/posts.html">Posts</a></li> -->
              <!--  -->
              <!--  -->
              <!--  -->
              <!-- <li><a href="/datasets.html">Datos</a></li> -->
              <!--  -->
              <!--  -->
              <!--  -->
              <!-- <li><a href="/resources.html">Biblio</a></li> -->
              <!--  -->
              <!--  -->
              <!--  -->
              <!-- <li><a href="/about.html">Sobre el curso</a></li> -->
              <!--  -->
              <!--  -->
        </ul>
	<ul class="nav navbar-nav navbar-right">
	  
	  
	  <li><a href="http://localhost:4000/about.html" >Sobre la materia</a></li>
	</ul>

        </div><!-- /.navbar-collapse -->
    </div>
</header>

<style>
  .bottom-three {
     margin-bottom: 2cm;
  }
</style>


<p class="bottom-three">
</p>
<!-- <div class="site-banner"> -->
<!--     <img src="/images/banner.jpg"></img> -->
<!-- </div> -->



        <div class="site-content container">
            <div class="col-md-9">
                <h1 id="brenda-habla-de-stats">Brenda habla de stats</h1>

<h1 id="repaso-de-la-clase-anterior">Repaso de la clase anterior</h1>

<h2 id="types-tipos-de-datos">‘Types’: tipos de datos</h2>

<ul>
  <li>‘logical’:    TRUE o FALSE</li>
  <li>‘integer’:    naturales: …, -1, 0, 1, …</li>
  <li>‘double’:    irracionales: 3.1415926</li>
  <li>‘character’:    alfanuméricos: “pi”</li>
  <li>‘complex’:    1+i10</li>
  <li>‘raw’:     48 65 6c 6c 6f</li>
</ul>

<h2 id="objetos-r-vectores">Objetos R: vectores</h2>

<p>Existen dos clases de vectores:</p>

<ol>
  <li><span class="underline">Vectores ‘atómicos’</span> (<em>atomic vectors</em>), todos los elementos del mismo tipo
    <ul>
      <li>puede haber de los 6 tipos: ‘logical’, ‘integer’, ‘double’, ‘character’, ‘complex’ y ‘raw’</li>
      <li>Integer y double son tratados como ‘numeric’</li>
      <li>No hay escalares en R, si no vectores de longitud 1</li>
    </ul>
  </li>
  <li><span class="underline">Listas</span>
    <ul>
      <li>Pueden a su vez contener listas (vectores recursivos)</li>
      <li>data.frames son caso especial cuando los vectores que la componen son de igual longitud</li>
    </ul>
  </li>
</ol>

<p>La principal diferencia entre los vectores atómicos y las listas es que los primeros son homogeneos,
o sea todos sus elementos son del mismo tipo, mientras que en las listas no es necesario.</p>

<h2 id="propiedades-de-los-vectores">Propiedades de los vectores</h2>

<p>Las propiedades más importantes de los vectores son:</p>

<ol>
  <li>que <em>tipo</em> de vector es -typeof()-</li>
  <li>que <em>longitud</em> tiene -length()-</li>
  <li>cuales <em>atributos</em> tiene asociados.</li>
</ol>

<p>Los atributos son metadata arbitraria que se puede asociar a cualquier objeto R. Se determinan y
consultan con <em>attr()</em> para alguno en particular y con <em>attributes()</em> se consultan todos los que el
objeto tenga. Los tres atributos más importantes se obtienen con <em>names()</em>, <em>class()</em> y <em>dim()</em>.</p>

<h2 id="listas">Listas</h2>

<p>Sus elementos pueden tener cualquier tipo, longitud (dimensión!) o atributos, incluyendo otras
listas o funciones ¯\_(ツ)_/¯</p>

<div class="highlighter-rouge"><pre class="highlight"><code>x &lt;- list(1, 2, 1:100)
x
## [[1]]
## [1] 1

## [[2]]
## [1] 2

## [[3]]
##  [1]   1   2   3   4   5   6   7   8   9  10  11  12  13  14  15  16  17  18
##  [19]  19  20  21  22  23  24  25  26  27  28  29  30  31  32  33  34  35  36
##  [37]  37  38  39  40  41  42  43  44  45  46  47  48  49  50  51  52  53  54
##  [55]  55  56  57  58  59  60  61  62  63  64  65  66  67  68  69  70  71  72
##  [73]  73  74  75  76  77  78  79  80  81  82  83  84  85  86  87  88  89  90
##  [91]  91  92  93  94  95  96  97  98  99 100

str(nasa)
## List of 2
##  $ mets:List of 7
##   ..$ cloudhigh  : num [1:24, 1:24, 1:12, 1:6] 26 20 16 13 7.5 8 14.5 19.5 22.5 21 ...
##   ..$ cloudlow   : num [1:24, 1:24, 1:12, 1:6] 7.5 11.5 16.5 20.5 26 30 29.5 26.5 27.5 26 ...
##   ..$ cloudmid   : num [1:24, 1:24, 1:12, 1:6] 34.5 32.5 26 14.5 10.5 9.5 11 17.5 18.5 16.5 ...
##   ..$ ozone      : num [1:24, 1:24, 1:12, 1:6] 304 304 298 276 274 264 258 252 250 250 ...
##   ..$ pressure   : num [1:24, 1:24, 1:12, 1:6] 835 940 960 990 1000 1000 1000 1000 1000 1000 ...
##   ..$ surftemp   : num [1:24, 1:24, 1:12, 1:6] 273 280 285 289 292 ...
##   ..$ temperature: num [1:24, 1:24, 1:12, 1:6] 272 282 285 291 293 ...
##  $ dims:List of 4
##   ..$ lat  : num [1:24] 36.2 33.7 31.2 28.7 26.2 ...
##   ..$ long : num [1:24] -114 -111 -109 -106 -104 ...
##   ..$ month: int [1:12] 1 2 3 4 5 6 7 8 9 10 ...
##   ..$ year : int [1:6] 1995 1996 1997 1998 1999 2000
##  - attr(*, "class")= chr "tbl_cube"
</code></pre>
</div>

<h1 id="vectores-aumentados">Vectores “aumentados”</h1>

<ul>
  <li><span class="underline">Data frames</span> (y tibbles) sobre ‘lists’</li>
  <li><span class="underline">Factores</span>, construidos sobre vectores ‘integer’</li>
  <li><span class="underline">Dates</span> y <span class="underline">date-times</span>, sobre vectores ‘numeric’</li>
</ul>

<h2 id="data-frames">Data frames</h2>

<p>Un data frame es una lista de vectores de igual longitud. Su estructura es 2d, con lo cual tiene
cosas en común con listas y con matrices. Se le pueden aplicar names(), colnames() y rownames(). La
longitud del data frame (length()) es la longitud de la lista, por lo tanto igual a ncol().</p>

<div class="highlighter-rouge"><pre class="highlight"><code>df &lt;- data.frame(x = 1:3, y = c("a", "b", "c"))
str(df)
</code></pre>
</div>

<h2 id="factores">Factores</h2>

<p>Los factores son vectores no-atómicos ‘aumentados’ usados para representar variables
categóricas. Estos datos pueden tomar sus valores de un conjunto fijo de elementos. Internamente son
representados por enteros, y tienen un atributo ‘levels’.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>x &lt;- factor(c("ab", "cd", "ab"), levels = c("ab", "cd", "ef"))
typeof(x)
#&gt; [1] "integer"
attributes(x)
#&gt; $levels
#&gt; [1] "ab" "cd" "ef"
#&gt; 
#&gt; $class
#&gt; [1] "factor"
</code></pre>
</div>

<h2 id="dates-y-date-times">Dates y date-times</h2>

<p>Lo dejamos para que algún voluntario lo cuente!</p>

<h1 id="subsetting"><em>Subsetting</em></h1>

<p>’[’ es el operador para hacer <em>subsetting</em>, se usa poniendo algo el tipo x[a]. Hay distintas
maneras de usarlo.</p>

<h2 id="usando-vectores-de-enteros-positivos-o-negativos">Usando vectores de enteros positivos o negativos</h2>

<p>Un vector numerico con enteros, todos positivos, todos negativos, o cero.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>x &lt;- c("one", "two", "three", "four", "five")
x[c(3, 2, 5)]
#&gt; [1] "three" "two"   "five"

x[c(1, 1, 5, 5, 5, 2)]
#&gt; [1] "one"  "one"  "five" "five" "five" "two"

x[c(-1, -3, -5)]
#&gt; [1] "two"  "four"

# caso particular, el cero, devuelve un vector vacio
x[0]
## numeric(0)
</code></pre>
</div>

<h2 id="usando-vectores-de-lógicos">Usando vectores de lógicos</h2>

<p><em>Subsetting</em> con un vector lógico devuelve los valores de correspondientes a TRUE. Como <em>filter</em>, se
usa frecuentemente en conjunto con expresiones lógicas.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>x &lt;- c(10, 3, NA, 5, 8, 1, NA)

# Todos los valores que no son NA de x
x[!is.na(x)]
#&gt; [1] 10  3  5  8  1

# Todos los valores pares (o NAs!) de x
x[x %% 2 == 0]
#&gt; [1] 10 NA  8 NA
</code></pre>
</div>

<h2 id="usando-vectores-de-caracteres-para-devolver-elementos-con-los-respectivos-nombres">Usando vectores de caracteres para devolver elementos con los respectivos nombres</h2>

<p>Si tenemos un vector con nombres, podemos hacer algo del tipo:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>x &lt;- c(abc = 1, def = 2, xyz = 5)
x[c("xyz", "def")]
#&gt; xyz def 
#&gt;   5   2

mtcars[, c("mpg", "disp")] 
##                      mpg  disp
## Mazda RX4           21.0 160.0
## Mazda RX4 Wag       21.0 160.0
## Datsun 710          22.8 108.0
## ...
</code></pre>
</div>

<h2 id="no-usando-nada">No usando nada</h2>

<p>La manera más simples de hacer <em>subsetting</em> es no usando nada, x[], que devuelve el objeto
original. Si es 2d, podemos dejar nada en una de las dimensiones, por ej. x[1, ] para obtener la
primera fila (con todas sus columnas), o x[, -1] que selecciona todas las filas columnas menos la
primera.</p>

<p>Para el caso de data frames y matrices, al hacer subsetting es posible usar drop = FALSE para
preservar las dimensiones del objeto original.</p>

<h2 id="otros-operadores-de-subsetting--y-">Otros operadores de subsetting: ‘[[’ y ‘$’</h2>

<p>Para listas, necesitamos [[ para acceder al contenido de los elementos de la lista, porque aplicando
[ a una lista siempre devuelve otra lista (más exactamente, una sub-lista). En cambio, [[ saca un
nivel de la jerarquía de la lista y dependiendo de su estructura, puede devolver cualquier elemento
de las lista.</p>

<p>El operador $ es una abreviación para obtener elementos nombrados de una lista. Se usa parecido a [[
solo que no hace falta usar comillas.</p>

<p>Como los data frames son listas de columnas de igual longitud, podemos acceder a sus columnas usando
mtcars[[1] ], mtcars[[“cy”] ] o mtcars$cy. Estos dos últimos son equivalentes.</p>

<div class="NOTES">
Más sobre subsetting en los siguientes links:
&lt;http://adv-r.had.co.nz/Subsetting.html&gt;
&lt;http://r4ds.had.co.nz/vectors.html#vector-subsetting&gt;

</div>

<h2 id="diferencia-entre--y--para-listas">diferencia entre [ y [[ para listas</h2>

<p><img style="WIDTH:500px; HEIGHT:420px; border:0" src="./figs/lists-subsetting.png" /></p>

<h1 id="práctica-7">Práctica 7</h1>

<ol>
  <li>
    <p>Cuál es el resultado de hacer subsetting en un vector usando: i) enteros positivos ii) enteros
negativos iii) vectores lógicos y iv) vectores de caracteres?</p>
  </li>
  <li>
    <p>Cuál es la diferencia entre [, [[, y $ cuando aplicados a una lista?</p>
  </li>
  <li>
    <p>Cuando hay que usar drop = FALSE?</p>
  </li>
  <li>
    <p>Si x es una matriz, qué hace x[] &lt;- 0? Cuál es la diferencia de hacer x &lt;- 0?</p>
  </li>
</ol>

<h2 id="práctica-7-bis">Práctica 7 bis</h2>

<p>Cargar ggplot2, y sobre el data frame ‘diamonds’ seleccionar diamantes que:</p>

<ol>
  <li>tienen x e y iguales</li>
  <li>tienen depth entre 55 y 70</li>
  <li>tienen carat menor que la media de carat</li>
  <li>cuestan más que $10000 por carat. De que calidad son? Pista: usar table()</li>
</ol>


            </div>
            <div id="site-side-bar" class="col-md-3">
                <div id="navigation">
    <!-- <div class="panel panel-default"> -->
    <!--     <\!-- <div class="panel-heading">Social Media</div> -\-> -->
    <!--     <div class="panel-body"> -->
    <!--         <ul class="nav"> -->
    <!--              -->
    <!--             <li> -->
    <!--                 <a href="https://github.com/lgmoyano"> -->
    <!--                     <span class="icon  icon--github"> -->
    <!--                         <svg viewBox="0 0 16 16"> -->
    <!--                             <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/> -->
    <!--                         </svg> -->
    <!--                     </span> -->

    <!--                     <span class="username">lgmoyano</span> -->
    <!--                 </a> -->
    <!--             </li> -->
    <!--              -->
    <!--              -->
    <!--             <li> -->
    <!--                 <a href="https://twitter.com/@luisgmoyano"> -->
    <!--                     <span class="icon  icon--twitter"> -->
    <!--                         <svg viewBox="0 0 16 16"> -->
    <!--                             <path fill="#828282" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809 -->
    <!--                             c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/> -->
    <!--                         </svg> -->
    <!--                     </span> -->

    <!--                     <span class="username">@luisgmoyano</span> -->
    <!--                 </a> -->
    <!--             </li> -->
    <!--              -->
    <!--         </ul> -->
    <!--     </div> -->
    <!-- </div> -->

    <!-- <div class="panel panel-default"> -->
    <!--     <div class="panel-heading">Archivo</div> -->
    <!--     <div class="panel-body"> -->
    <!--          -->

    <!--         <ul class="nav"> -->
    <!--              -->
    <!--             <li class="archive-entry"> -->
    <!--                 <a href="javascript:void(0)">Apr 2017 <span class="badge pull-right">2</span></a> -->
    <!--                 <ul> -->
    <!--                      -->
    <!--                     <li><a href="/2017/04/05/simple.html">using types effectively</a></li> -->
    <!--                      -->
    <!--                     <li><a href="/2017/04/05/simple.html">Simple</a></li> -->
    <!--                      -->
    <!--                 </ul> -->
    <!--             </li> -->
    <!--              -->
    <!--             <li class="archive-entry"> -->
    <!--                 <a href="javascript:void(0)">Aug 2015 <span class="badge pull-right">2</span></a> -->
    <!--                 <ul> -->
    <!--                      -->
    <!--                     <li><a href="/haskell/2015/08/30/hello-world-in-haskell.html">hello world in haskell</a></li> -->
    <!--                      -->
    <!--                     <li><a href="/jekyll/update/2015/08/29/welcome-to-jekyll.html">Welcome to Jekyll!</a></li> -->
    <!--                      -->
    <!--                 </ul> -->
    <!--             </li> -->
    <!--              -->
    <!--             <li class="archive-entry"> -->
    <!--                 <a href="javascript:void(0)">Jan 2015 <span class="badge pull-right">4</span></a> -->
    <!--                 <ul> -->
    <!--                      -->
    <!--                     <li><a href="/jekyll/update/2015/01/07/dummy-post-2.html">dummy 2</a></li> -->
    <!--                      -->
    <!--                     <li><a href="/2015/01/06/dummy-post-2.html">Programación en R</a></li> -->
    <!--                      -->
    <!--                     <li><a href="/2015/01/06/dummy-post-2.html">Dummy Post 2</a></li> -->
    <!--                      -->
    <!--                     <li><a href="/2015/01/06/dummy-post-1.html">Programación en R</a></li> -->
    <!--                      -->
    <!--                 </ul> -->
    <!--             </li> -->
    <!--              -->
    <!--         </ul> -->
    <!--     </div> -->
    <!-- </div> -->

</div>


            </div>
        </div>

        <!-- <p><a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/"><img alt="Creative Commons License" style="position:absolute;RIGHT:10px; TOP:550px; border-width:0" src="by-nc.png" height="20" width="95"/></a></p> -->


    </body>

</html>
